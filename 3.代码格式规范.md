# 1. 快速初始化项目:

```
npm init vue@latest
```

将会看到一些诸如 TypeScript 和测试支持之类的可选功能提示：

```
✔ Project name:  your-project-name 输入项目名称
✔ Add TypeScript? … No / Yes 添加TypeScript
✔ Add JSX Support? … No / Yes 不添加jsx
✔ Add Vue Router for Single Page Application development? … No / Yes 添加vue-Router
✔ Add Pinia for state management? … No / Yes 添加状态管理Pinia
✔ Add Vitest for Unit testing? … No / Yes 不添加Vitest
✔ Add Cypress for both Unit and End-to-End testing? … No / Yes 不添加Cypress
✔ Add ESLint for code quality? … No / Yes 添加ESLint
✔ Add Prettier for code formatting? … No / Yes 添加ESLintPrettier
```

在项目被创建后，通过以下步骤安装依赖并启动开发服务器：

```
> cd your-project-name
> npm install
> npm run lint
> npm run dev
```

参考链接：

[vue3](https://staging-cn.vuejs.org/)：渐进式 JavaScript 框架

[Vue Router](https://router.vuejs.org/zh/)：Vue.js 的官方路由

[Pinia](https://pinia.vuejs.org/)：vue 新一代状态管理插件

[TypeScript](https://www.typescriptlang.org/)：基于 JavaScript 的强类型编程语言

[Vite](https://vitejs.cn/)：构建工具

# 2. UI 框架：[Ant Design Vue](https://www.antdv.com/components/overview-cn)

安装依赖

```
npm i ant-design-vue --save
```

如果使用 Vue 默认的模板语法，需要注册组件后方可使用：

- 全局完整注册

```
// main.js

import Antd from "ant-design-vue";
import "ant-design-vue/dist/antd.css";

app.use(Antd);
```

- 全局部分注册

```
// main.js

import { Button, message } from 'ant-design-vue';
import "ant-design-vue/dist/antd.css";

/* 会自动注册 Button 下的子组件, 例如 Button.Group */
app.use(Button);

app.config.globalProperties.$message = message;
```

如果你仅需要加载使用的组件，可以通过以下的写法来按需加载组件。

- 手动引入

```
import Button from 'ant-design-vue/lib/button';
import 'ant-design-vue/lib/button/style'; // 或者 ant-design-vue/lib/button/style/css 加载 css 文件
```

- 使用 [babel-plugin-import](https://github.com/umijs/babel-plugin-import)

```
// .babelrc or babel-loader option
{
  "plugins": [
    ["import", { "libraryName": "ant-design-vue", "libraryDirectory": "es", "style": "css" }] // `style: true` 会加载 less 文件
  ]
}
```

- Vite 使用[unplugin-vue-components](https://github.com/antfu/unplugin-vue-components)

```
// vite.config.js
import Components from 'unplugin-vue-components/vite';
import { AntDesignVueResolver } from 'unplugin-vue-components/resolvers';

export default {
  plugins: [
    /* ... */
    Components({
      resolvers: [AntDesignVueResolver()],
    }),
  ],
};
```

但是此插件无法处理非组件模块，如 message，这种组件需要手动加载：

```
import { message } from 'ant-design-vue';
import 'ant-design-vue/es/message/style/css'; //vite只能用 ant-design-vue/es 而非 ant-design-vue/lib
```

# 3. 网络请求库: [Axios](https://www.axios-http.cn/)

安装依赖

```
npm install axios
```

# 4. CSS 预处理语言: [less](https://less.bootcss.com/)

安装依赖

```
npm i less -D
```

在项目根目录下新建 `global.less` 文件，配置 less 全局变量

```
// vite.config.ts
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import path from 'path';

// https://vitejs.dev/config/
export default defineConfig({
  css: {
    preprocessorOptions: {
      less: {
        javascriptEnabled: true,
        additionalData: `@import "${path.resolve(
          __dirname,
          "src/global.less"
        )}";`,
      },
    },
  },
})
```

在全局样式文件里配置主色调 （其他样式如高宽，间距可自行编写）

```
@color:#63C4D4;
```

在有需要的组件内使用该全局样式

```
.title{
  color:@color;
}
```

[stylelint 支持 less 配置](https://github.com/stylelint/stylelint/issues/5663)

# 5. 前端代码格式化工具: [prettier](https://prettier.io/)

安装依赖

```
npm i prettier -D
```

`.prettierrc` 配置

```
{
  "singleQuote": true,
  "trailingComma": "all",
  "endOfLine": "lf",
  "htmlWhitespaceSensitivity": "ignore",
  "overrides": [
    {
      "files": ".prettierrc",
      "options": {
        "parser": "json"
      }
    }
  ]
}
```

`.prettierignore` 配置

```
dist
node_modules
coverage
**/assets
.editorconfig
.eslintignore
.stylelintrc
.gitignore
.gitattributes
```

# 6. css 代码规范工具: [stylelint](https://stylelint.io/user-guide/get-started)

安装依赖

```
npm i stylelint stylelint-order stylelint-config-rational-order -D
npm i postcss-html stylelint-config-standard-vue -D
npm i stylelint-config-prettier -D
npm i stylelint-declaration-block-no-ignored-properties -D
npm i stylelint-config-html -D
```

`.stylelintrc.js` 配置

```javascript
module.exports = {
  extends: [
    "stylelint-config-html/vue",
    "stylelint-config-standard-vue",
    "stylelint-config-rational-order",
    "stylelint-config-prettier",
  ],
  plugins: [
    "stylelint-order",
    "stylelint-declaration-block-no-ignored-properties",
    "stylelint-less",
  ],
  rules: {
    indentation: 2,
    "no-invalid-double-slash-comments": true,
    "comment-empty-line-before": null,
    "declaration-empty-line-before": null,
    "no-descending-specificity": null,
    "function-comma-newline-after": null,
    "function-name-case": ["lower", { ignoreFunctions: ["/colorPalette/"] }],
    "function-url-quotes": "always",
    "selector-attribute-quotes": "always",
    "font-family-no-missing-generic-family-keyword": null, // iconfont
    "plugin/declaration-block-no-ignored-properties": true,
    "unit-no-unknown": [true, { ignoreUnits: ["rpx"] }],
    "selector-type-no-unknown": null,
    "value-keyword-case": ["lower", { ignoreProperties: ["composes"] }],
  },
  ignorePath: ".stylelintignore",
};
```

`.stylelintignore` 配置

```
/node_modules
/public/*
public/*
src/assets/font/*

# Other types of documents
*.js
*.jpg
*.woff
​
# Testing and packaging catalog
/test/
/dist/*
/lib/
```

参考链接：

[stylelint](https://stylelint.io/user-guide/get-started): 样式代码检查工具
[stylelint-config-standard-vue](https://github.com/ota-meshi/stylelint-config-standard-vue): The standard shareable Vue config for Stylelint.
[stylelint-config-css-modules](https://github.com/pascalduez/stylelint-config-css-modules): 调整 stylelint 规则以接受 css modules 特定的语法。
[stylelint-config-prettier](https://github.com/prettier/stylelint-config-prettier): 关闭所有不必要或可能与 Prettier 冲突的规则
[stylelint-config-rational-order](https://github.com/constverum/stylelint-config-rational-order): css 样式书写顺序插件(先写定位，再写盒模型，再写内容区样式，最后写 CSS3 相关属性)
[stylelint-declaration-block-no-ignored-properties](https://www.npmjs.com/package/stylelint-declaration-block-no-ignored-properties): Disallow property values that are ignored due to another property value in the same rule.
[stylelint-config-html](https://www.npmjs.com/package/stylelint-config-html): The shareable HTML (and HTML-like) config for Stylelint.

# javascript 代码检测工具: [eslint](https://github.com/eslint/eslint)

通过`npm init vue@latest` 并开启 `eslint` 和 `prettier` 的可以跳过此安装依赖步骤

```
npm i eslint eslint-plugin-vue -D
npm i @vue/eslint-config-prettier -D
npm i @rushstack/eslint-patch -D
```

`.eslintrc.js` 配置

```
/* eslint-env node */
require("@rushstack/eslint-patch/modern-module-resolution");

module.exports = {
  root: true,
  extends: [
    "plugin:vue/vue3-essential",
    "eslint:recommended",
    "@vue/eslint-config-typescript/recommended",
    "@vue/eslint-config-prettier",
  ],
};

```

`.eslintignore` 配置

```
*.sh
node_modules
*.md
*.woff
*.ttf
.vscode
.idea
dist
/public
/docs
.husky
.local
/bin
Dockerfile
```

# 配置 husky + lint-staged

```
npm i husky lint-staged -D
```

添加一个在 package.json 中添加一条 preinstall 脚本

```
{
    "script":{
        "prepare": "husky install"
    }
}
```

运行一次`npm run prepare`,然后我们就会得到一个目录`.husky`

接下来我们为我们 git 仓库添加一个 `pre-commit` 钩子,运行

```
npx husky add .husky/pre-commit "npx --no-install lint-staged"
```

这回在我们的`.husky` 目录下生成一个 `pre-commit` 的脚本

接下来我们配置 lint-staged,在 `package.json` 中添加下面的配置信息。

```
{
  "lint-staged": {
    "*.{js,vue,ts,jsx,tsx}": [
      "prettier --write",
      "eslint --fix"
    ],
    "*.{html,css,less,scss,md}": [
      "prettier --write"
    ]
  }
}
```

`Note: If you use ESLint, make sure lint-staged runs it before Prettier, not after.`

参考链接

[husky](https://typicode.github.io/husky/#/?id=migrate-from-v4-to-v7)
